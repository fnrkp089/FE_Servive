---
description: 추가공부
---

# ❤ Additional

## 테스트 가능성

테스트 가능한 코드를 작성하기 위해 일반적으로 고려해야 하는 몇 가지 원칙은 다음과 같다.

1. **단일 책임 원칙(Single Responsibility Principle)**: 각 함수는 한 가지 일만 수행해야 한다.\
   이렇게 하면 특정 기능에 대한 테스트를 간단하게 작성할 수 있습니다.
2. **순수 함수(Pure Functions)**: 가능한 한 순수 함수를 사용하면  좋다.\
   &#x20;순수 함수는 동일한 입력이 주어지면 항상 동일한 출력을 반환하고 부작용이 없는 함수이다. \
   이러한 특성 때문에 순수 함수는 테스트하기가 쉽다.
3. **의존성 주입(Dependency Injection)**: 함수가 외부 상태에 의존하는 경우, 이 의존성을 주입하는 것이 좋다.\
   테스트에서 가짜 객체(mock objects)를 주입하여 함수를 더 쉽게 테스트할 수 있다.
4. **모듈화(Modularity)**: 코드를 잘 정의된, 재사용 가능한 모듈로 분리하면 각 모듈을 독립적으로 테스트할 수 있다.
5. **가독성(Readability)**: 코드가 읽기 쉽고 이해하기 쉬울수록 테스트하기도 쉽다.&#x20;



## CSS 우선순위

CSS 우선 순위는 스타일 규칙이 적용되는 순서를 결정하는 방법입니다. \
규칙이 충돌할 때 이 순서는 어떤 규칙이 우선하는지 결정합니다. \
CSS 우선 순위는 다음과 같은 규칙에 따라 결정됩니다:

1. **중요성 (Importance)**: `!important` 표시가 있는 스타일은 다른 모든 스타일보다 우선순위가 높습니다.
2. **인라인 스타일**: `style` 속성을 사용하여 HTML 요소에 직접 추가된 스타일은 모든 외부 스타일시트보다 우선순위가 높습니다.
3. **특정성 (Specificity)**: 특정성은 ID, 클래스, 태그 등 선택자의 '특정성'을 기반으로 합니다. 아래의 순서에 따라 특정성이 계산됩니다:
   * ID 선택자는 클래스 선택자보다 우선 순위가 높습니다.
   * 클래스 선택자는 태그 선택자보다 우선 순위가 높습니다.
   * 가상 클래스 선택자는 태그 선택자와 동등한 우선 순위를 가집니다.
4. **소스 순서**: 위의 모든 규칙이 동일한 경우, 가장 나중에 나오는 규칙이 적용됩니다.

이러한 규칙들은 중요성, 특정성, 소스 순서 순으로 적용되며, 각각의 규칙이 동일한 경우에만 다음 규칙이 적용됩니다. 예를 들어, 특정성이 더 높은 규칙이 나중에 나오는 규칙보다 우선순위가 높습니다. 그러나 `!important` 표시가 있는 규칙은 특정성과 상관없이 항상 더 높은 우선 순위를 가집니다.

우선, CSS의 특정성을 이해하려면 각 선택자의 가중치를 이해해야 합니다. 선택자의 특정성은 다음과 같이 계산됩니다:

1. **ID 선택자**는 특정성 값이 100입니다.
2. **클래스 선택자**, **속성 선택자**, **가상 클래스 선택자**는 특정성 값이 10입니다.
3. **요소 선택자**와 **가상 요소 선택자**는 특정성 값이 1입니다.
4. **상속된 스타일**은 특정성 값이 0입니다.

예를 들어, `#myId .myClass p` 선택자는 1개의 ID 선택자(#myId, 특정성 100), 1개의 클래스 선택자(.myClass, 특정성 10), 1개의 요소 선택자(p, 특정성 1)로 구성되어 있으므로 총 특정성 값은 111입니다.

그러나, 특정성은 항상 CSS 우선 순위를 결정하는 유일한 요소는 아닙니다. CSS 우선 순위는 다음 규칙에 따라 계산됩니다:

1. **스타일의 중요성**: `!important` 키워드가 적용된 스타일 규칙은 다른 모든 스타일 규칙보다 우선순위가 높습니다.
2. **인라인 스타일**: HTML 문서의 `style` 속성에 직접 적용된 스타일 규칙은 외부 CSS 파일이나 `<style>` 태그 내부에 정의된 규칙보다 우선순위가 높습니다.
3. **특정성**: 특정성이 높은 선택자의 스타일 규칙이 우선시 됩니다.
4. **소스 순서**: 위의 세 가지 요소가 동일한 경우에는 나중에 선언된 스타일 규칙이 우선순위가 높습니다.

### 우선순위의 예

CSS의 특정성(Specificity)과 우선 순위는 때때로 복잡할 수 있습니다. 예를 들어서 이를 좀 더 쉽게 이해해 봅시다.

```css
h1 {
  color: red;
}

body h1 {
  color: blue;
}
```

위의 예에서, `h1` 태그는 어떤 색상이 될까요? 이는 특정성(Specificity)에 의해 결정됩니다. 첫 번째 규칙(`#content h1`)은 ID 선택자 1개(`#content`)와 요소 선택자 1개(`h1`)를 포함하므로 특정성은 101입니다. 반면, 두 번째 규칙(`body h1`)은 요소 선택자 2개(`body`, `h1`)를 포함하므로 특정성은 2입니다. 따라서 첫 번째 규칙의 특정성이 더 높아 `h1`의 색상은 빨간색이 됩니다.

이제 우선 순위의 예를 봅시다.

```css
h1 {
  color: green;
}

h1 {
  color: yellow !important;
}

h1 {
  color: pink !important;
}
```

여기서 `h1` 태그의 색상은 어떻게 될까요? `!important`가 붙은 규칙이 가장 높은 우선 순위를 가지므로 두 번째와 세 번째 규칙 중 하나가 적용됩니다. 그러나 두 규칙 모두 `!important`를 가지므로, 여기서는 소스 순서가 결정적인 역할을 합니다. 나중에 나오는 규칙이 우선순위가 더 높기 때문에, `h1`의 색상은 분홍색이 됩니다.

이런 방식으로, CSS의 특정성과 우선 순위는 여러 스타일 규칙이 충돌할 때 어떤 규칙이 최종적으로 적용될지를 결정합니다.

### ex)2

```css
body #content .data h1 {
  color: orange;
}

body div h1 {
  color: purple;
}

h1 {
  color: green !important;
}
```

여기서 `h1` 태그의 색상은 어떻게 될까요?

첫 번째 규칙(`body #content .data h1`)은 1개의 ID 선택자(`#content`), 1개의 클래스 선택자(`.data`), 그리고 3개의 요소 선택자(`body`, `h1`)를 가지므로 특정성은 113입니다.

두 번째 규칙(`body div h1`)은 요소 선택자 3개(`body`, `div`, `h1`)를 가지므로 특정성은 3입니다.

세 번째 규칙(`h1`)은 요소 선택자 1개(`h1`)와 `!important`를 가지므로 중요성이 가장 높습니다.

따라서 `!important`가 붙은 세 번째 규칙이 `h1` 태그에 적용되고, 색상은 녹색이 됩니다.

그러나 `!important`를 제거하면 어떻게 될까요?

```css
cssCopy codebody #content .data h1 {
  color: orange;
}

body div h1 {
  color: purple;
}

h1 {
  color: green;
}
```

이 경우에는 `h1` 태그의 색상이 첫 번째 규칙에 의해 주황색이 됩니다. 왜냐하면 첫 번째 규칙의 특정성(113)이 두 번째 규칙의 특정성(3)과 세 번째 규칙의 특정성(1)보다 높기 때문입니다. 이 예제를 통해 특정성과 우선 순위의 중요성을 확인할 수 있습니다.

### 선택자 우선순위

CSS 선택자의 우선순위는 특정성(Specificity)과 소스 순서, 그리고 `!important` 키워드를 기반으로 결정됩니다. 특정성은 선택자의 종류에 따라 다르며, `!important` 키워드는 일반적인 특정성 규칙을 무시하고 해당 스타일 규칙을 최우선으로 적용합니다.

다음은 CSS 선택자의 우선 순위를 결정하는 기본 규칙입니다:

1. **스타일 속성의 `!important`**: 스타일 선언 뒤에 `!important`가 붙어 있으면, 그 스타일 규칙은 특정성과 소스 순서에 관계없이 최우선으로 적용됩니다. 단, 여러 개의 `!important` 규칙이 충돌하는 경우에는 특정성과 소스 순서가 다시 고려됩니다.
2. **특정성(Specificity)**: 특정성은 선택자의 '가중치'를 나타내며, 선택자의 종류(ID, 클래스, 태그 등)에 따라 다릅니다. 특정성이 높은 스타일 규칙이 낮은 스타일 규칙보다 우선 적용됩니다.
   * ID 선택자는 특정성이 100입니다.
   * 클래스 선택자, 속성 선택자, 그리고 가상 클래스는 특정성이 10입니다.
   * 태그 선택자와 가상 요소 선택자는 특정성이 1입니다.
3. **소스 순서**: 특정성이 동일한 두 스타일 규칙이 충돌할 경우, 소스 코드에서 나중에 나오는 규칙이 우선 적용됩니다.

이 규칙은 CSS 선택자의 우선순위를 일반적으로 결정하는 방식을 나타냅니다. 이를 이해하면 CSS 스타일이 어떤 순서로 적용되는지 파악하는 데 도움이 됩니다.

## 여러개의 Important

`!important` 규칙이 여러 개인 경우에도 특정성(Specificity)과 소스 순서에 따른 규칙이 여전히 적용됩니다. 복잡한 예를 통해 설명해 보겠습니다.

```css
#content h1 {
  color: red !important;
}

body .highlight h1 {
  color: blue !important;
}

h1 {
  color: green !important;
}
```

위 예제에서 `h1` 태그의 색상은 어떻게 될까요?

첫 번째 규칙(`#content h1`)은 ID 선택자(`#content`) 1개와 요소 선택자(`h1`) 1개로 특정성이 101입니다. `!important` 키워드가 있으므로 이 규칙은 높은 우선순위를 가집니다.

두 번째 규칙(`body .highlight h1`)은 요소 선택자(`body`, `h1`) 2개와 클래스 선택자(`.highlight`) 1개로 특정성이 12입니다. 이 규칙 역시 `!important` 키워드가 있으므로 높은 우선순위를 가집니다.

세 번째 규칙(`h1`)은 요소 선택자(`h1`) 1개만 가지고 있어 특정성이 1입니다. 이 규칙도 `!important` 키워드가 있으므로 높은 우선순위를 가집니다.

이 세 가지 규칙은 모두 `!important` 키워드를 가지고 있지만, 특정성을 비교하면 첫 번째 규칙의 특정성이 가장 높으므로, `h1` 태그의 색상은 빨강색이 됩니다.

```css
#content .data h1 {
  color: red !important;
}

body .highlight h1 {
  color: blue !important;
}

h1 {
  color: green;
}
```

이 코드에서 `h1` 태그의 색상은 어떻게 될까요?

첫 번째 규칙(`body #content .data h1`)은 ID 선택자(`#content`) 1개, 클래스 선택자(`.data`) 1개, 그리고 요소 선택자(`body`, `h1`) 2개를 가지고 있습니다. 특정성은 따라서 112입니다. `!important` 키워드가 있으므로 이 규칙은 매우 높은 우선순위를 가집니다.

두 번째 규칙(`body .highlight h1`)은 클래스 선택자(`.highlight`) 1개와 요소 선택자(`body`, `h1`) 2개를 가지고 있습니다. 특정성은 12입니다. 이 규칙에도 `!important` 키워드가 있으므로 이 규칙 역시 높은 우선순위를 가집니다.

세 번째 규칙(`h1`)은 요소 선택자(`h1`) 1개만 가지고 있으며 특정성은 1입니다. 하지만 이 규칙에는 `!important` 키워드가 없습니다.

세 규칙 모두 `h1` 태그에 적용될 수 있지만, 첫 번째 규칙이 가장 높은 특정성(112)을 가지고 있고, `!important` 키워드가 있으므로 `h1` 태그의 색상은 빨강이 됩니다.

