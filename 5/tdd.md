# ❤ TDD

[TDD - 테스트 주도 개발](https://github.com/ahastudio/til/blob/main/agile/test-driven-development.md)

[Jest TDD Example](https://github.com/ahastudio/til/blob/main/jest/20201204-simple-tdd-example.md)

## 테스트 작성

면접  때,종종 TDD경험이 있냐고 물어본다.\
테스트 코드를 짜는 이유는, 제품 혹은 서비스의 품질을 확인해보거나, 우리가 미처 예상치 못한 이슈를\
찾아 의도한 대로 어플리케이션이 동작하도록 하는것이다.\
\
보통 전 회사에서도 시간이 넉넉치 않아, 설계->코드개발->테스트의 순으로 진행되어\
해당 부분에 대한 경험이 적은것이 아쉽다.



## TDD(Test-Driven Development)

TDD는 테스트를 먼저 작성하고, 그 테스트를 통과하기 위한 코드를 작성하는 방식으로 개발을 진행\
즉 구현보다는 인터페이스와 스펙을 먼저 정의한 뒤 개발을 진행한다.

**TDD Cycle**

1. <mark style="color:red;">Red</mark> → 실패하는 테스트 코드를 작성. 인터페이스와 스펙에 집중한다.
2. <mark style="color:green;">Green</mark> → 재빨리 테스트를 통과시킨다. 올바른 방법이 아니어도 괜찮다.
3. <mark style="color:blue;">Refactor</mark> → 리팩터링을 통해 코드를 올바르게 만든다. TDD에서 가장 중요한 부분이지만, 간과될 때가 많다.

위의 사이클을 최장 10분 이내로 하는것이 좋고, \
작은 단계를 찾고, 코드에서 피드백을 얻는 게 (어렵고) 중요하다. \
2번이 어렵다면 1번으로 돌아가서 더 작고 쉬운 문제를 정의하고, \
3번을 위해 의도를 드러내고 중복을 찾아 제거하는 연습을 해야 한다. \
**이 둘이 익숙하지 않으면 TDD를 하는 게 거의 불가능하고, 사실 이 둘이 어려우면 일반적인 개발 또는 클린 코드를 작성하는 것 또한 매우 힘들다.**

> 연습을 자주 해야한다.

## Jest

Jest는 페이스북에서 만든 단순함에 초점을 맞춘 자바스크립트 테스트 프레임워크.

> NestJs에서 시험삼아 테스트할때 해봣다. 하지만 정확하게 사용했다고 말할수 없을정도

*   describe()

    여러 개의 test()코드를 하나의 테스트 작업 단위로 묶는다.
*   test()

    테스트 코드를 돌리기 위한 API, 하나의 테스트 케이스를 의미하고 it()으로 쓸 수도 있다.
*   expect()

    인자로는 테스트할 대상을 넣고, 기대 값 등을 뒤에 메서드 체이닝으로 넣어준다.
*   beforeEach()

    테스트 파일의 테스트 코드가 돌기 전에 수행할 로직을 넣어준다.\
    테스트 케이스마다 반복되는 로직이 있는 경우 사용하면 유용하다.

