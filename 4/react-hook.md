# 💛 React Hook

## &#x20;React Hook&#x20;

> React v16.8에 도입됨, 기존 방식의 몇가지 문제를 해결
>
> 함수형 컴포넌트에 리액트의 다른 기능들을 **갈고리처럼 연결**해주는 역할을 하여 `Hook` 이라 명명

### Hook 탄생 배경&#x20;

#### 기존 방식의 문제점

* **Wrapper Hell(HOC)**
  * 기존 컴포넌트를 새로운 컴포넌트로 감싸서 재사용 가능한 컴포넌트를 만드는 방법
  * 훅이 나오기 이전 코드를 재사용하기 위해 사용된 방법이다.
  * 이 패턴을 남용하면, 컴포넌트의 계층 구조가 복잡해져 유지보수와 디버깅이 어려워진다.
* **Huge Components**&#x20;
  * 컴포넌트가 커질수록 클래스 내에 로직(상태, 라이프사이클 메서드)등 코드가 비대해지기 쉽다.\
    이는 가독성이 떨어지고 유지보수성을 어렵게 만든다
* **Confusing Classes**
  * 클래스의 복잡도 문제 (높은 러닝커브, this 바인딩 등)



## 동작원리

Functional Component에서 useState, useEffect와 같은 Hook 함수를 사용하면, \
React는 내부적으로 상태와 라이프사이클을 관리하기 위해 Hook 함수에 대한 **내부 연결 리스트**를 생성한다.

**Hook은 컴포넌트의 상태를 관리하므로, Hook이 호출되는 위치가 중요하다**. \
만약 Hook이 조건문이나 반복문 내부에서 호출되면,\
같은 컴포넌트의 라이프사이클에 여러번 호출될 수 있기 때문에 예기치 않은 동작을 일으킬 수 있다.

예를 들어, useEffect Hook을 사용하여 컴포넌트가 마운트될 때와 언마운트될 때 동작을 정의하였다고\
가정할시,  만약 이 Hook 함수가 조건문이나 반복문 내부에서 호출되면, 마운트와 언마운트 과정이 여러번 반복될 수 있다. \
이 경우 예상치 못한 결과가 발생할 수 있기 때문에 최상위 레벨에서만 Hook을 호출해야 한다.

**따라서, React Hook은 컴포넌트의 최상위 레벨에서만 호출되어야 하며,** \
**이를 지키지 않을 경우 예상치 못한 동작이 발생할 수 있다.**

또한  함수형 컴포넌트 내부에서만 Hook을 호출해야 하는 이유는, \
**Hook이 함수형 컴포넌트의 지역 상태를 관리하기 때문이다.**\
&#x20;함수형 컴포넌트가 렌더링될 때마다 Hook 함수가 호출되어 해당 컴포넌트의 지역 상태를 관리한다.\
&#x20;따라서, Hook이 호출되는 위치가 중요하며, 함수형 컴포넌트 내부에서만 호출해야 한다.

> 클래스형 컴포넌트에서는 이와 달리 this 키워드를 이용하여 클래스 내부에서 상태와 라이프사이클을 관리한다.\
> &#x20;함수형 컴포넌트는 클래스형 컴포넌트와 달리 인스턴스를 생성하지 않으며,\
> &#x20;this 키워드를 사용하지 않는다. \
> 따라서, 함수형 컴포넌트 내부에서만 Hook을 호출할 수 있다.

##
